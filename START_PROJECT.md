# üì¶ –°—Ç–∞—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞ eWave

> ‚ö†Ô∏è –í –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –°–ë–ü —á–µ—Ä–µ–∑ –ë–∞–Ω–∫ 131. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Stripe, –¢-–ë–∞–Ω–∫–µ –∏ YooKassa –Ω–∏–∂–µ –Ω–æ—Å–∏—Ç –∞—Ä—Ö–∏–≤–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä.

## ‚úÖ –í—Å—ë —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ!

API –∫–ª—é—á eSIM-GO –¥–æ–±–∞–≤–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! üî•

---

## üìã –ó–∞–ø—É—Å–∫ –≤ 3 —à–∞–≥–∞:

### **–®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏ Backend —Å–µ—Ä–≤–µ—Ä**

```bash
npm run server:dev
```

–î–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å:
```
üöÄ Server running on http://localhost:8080
```

### **–®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏ Frontend (–≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)**

```bash
npm run dev
```

–î–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å:
```
‚ñ≤ Next.js 14.0.4
- Local:        http://localhost:3000
```

### **–®–∞–≥ 3: –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ**

```
http://localhost:3000
```

---

## üß™ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç API

–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
./test-esim-api.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
# –¢–µ—Å—Ç 1: –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω
curl http://localhost:8080/api/esim/countries

# –¢–µ—Å—Ç 2: –ü–∞–∫–µ—Ç—ã –¥–ª—è –°–®–ê
curl "http://localhost:8080/api/esim/packages?country=US"

# –¢–µ—Å—Ç 3: Health check
curl http://localhost:8080/api/health
```

---

## üé® –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ:

‚úÖ **eSIM-GO API –ø–æ–¥–∫–ª—é—á–µ–Ω** - —Ç–≤–æ–π –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω!
‚úÖ **–¢-–ë–∞–Ω–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ø–ª–∞—Ç–µ–∂–∏ –†–§
‚úÖ **Stripe –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
‚úÖ **YooKassa –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è –†–§
‚úÖ **Telegram Mini App SDK** - –≥–æ—Ç–æ–≤ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é
‚úÖ **–ö—Ä–∞—Å–∏–≤—ã–π UI** - —Å —Ç–≤–æ–µ–π —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º–æ–π
‚úÖ **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è RU/EN** - –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å

---

## üí≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

### –¢-–ë–∞–Ω–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –†–§):
1. –ß–∏—Ç–∞–π: **TINKOFF_SETUP.md**
2. –ü–æ–ª—É—á–∏ –∫–ª—é—á–∏ –Ω–∞ https://www.tbank.ru/business/ecom/
3. –î–æ–±–∞–≤—å –≤ `.env`:
   ```
   TINKOFF_TERMINAL_KEY=—Ç–≤–æ–π_–∫–ª—é—á
   TINKOFF_PASSWORD=—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å
   ```

### Stripe (–¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö):
1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: https://stripe.com
2. –ü–æ–ª—É—á–∏ –∫–ª—é—á–∏: Developers ‚Üí API keys
3. –î–æ–±–∞–≤—å –≤ `.env`:
   ```
   STRIPE_SECRET_KEY=sk_test_...
   ```

---

## ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

1. –°–æ–∑–¥–∞–π –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather: `/newbot`
2. –ü–æ–ª—É—á–∏ —Ç–æ–∫–µ–Ω
3. –î–æ–±–∞–≤—å –≤ `.env`:
   ```
   TELEGRAM_BOT_TOKEN=123456:ABC-DEF...
   ```
4. –ù–∞—Å—Ç—Ä–æ–π Mini App: `/newapp`
5. –£–∫–∞–∂–∏ URL —Å–≤–æ–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üåê –î–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω:

### Frontend (Vercel):
```bash
npm install -g vercel
vercel
```

### Backend (Railway/Render):
1. –ü–æ–¥–∫–ª—é—á–∏ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env`
3. –£–∫–∞–∂–∏ –∫–æ–º–∞–Ω–¥—É: `npm run server`

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** README.md

---

## üì± –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –í–∏–¥–∏—Ç –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –≤—ã–±–æ—Ä–æ–º —Å—Ç—Ä–∞–Ω

### 2. –í—ã–±–∏—Ä–∞–µ—Ç —Å—Ç—Ä–∞–Ω—É
- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã eSIM
- –¶–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å –º–∞—Ä–∂–æ–π 100%

### 3. –ù–∞–∂–∏–º–∞–µ—Ç "–ö—É–ø–∏—Ç—å"
- –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã
- –í—ã–±–∏—Ä–∞–µ—Ç —Å–ø–æ—Å–æ–±: –¢-–ë–∞–Ω–∫, Stripe –∏–ª–∏ YooKassa

### 4. –û–ø–ª–∞—á–∏–≤–∞–µ—Ç
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
- –í–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã

### 5. –ü–æ–ª—É—á–∞–µ—Ç eSIM
- Webhook —Å–æ–∑–¥–∞—ë—Ç –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ eSIM-GO API
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç QR-–∫–æ–¥
- –ú–æ–∂–µ—Ç —Å–∫–∞—á–∞—Ç—å –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ email

---

## üí∞ –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è:

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä–∂–∞ 100%** —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞!

**–ü—Ä–∏–º–µ—Ä:**
- –¶–µ–Ω–∞ –æ—Ç eSIM-GO: $10
- –¶–µ–Ω–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞: **$20**
- –¢–≤–æ—è –ø—Ä–∏–±—ã–ª—å: **$10** üíµ

–ò–∑–º–µ–Ω–∏—Ç—å –º–∞—Ä–∂—É: `server/services/esimGoApi.js`
```javascript
this.marginMultiplier = 2; // 2 = 100%, 3 = 200%
```

---

## üÜò Troubleshooting:

### ‚ùå –û—à–∏–±–∫–∞ "API request failed"
```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:
cat .env | grep ESIM_GO
```

### ‚ùå –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç
```bash
# –£–±–µ–π –ø—Ä–æ—Ü–µ—Å—Å:
lsof -i :8080
kill -9 <PID>
```

### ‚ùå –ú–æ–¥—É–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
```bash
npm install
```

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

- üìñ **README.md** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚ö° **QUICKSTART.md** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- üîß **SETUP.md** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- üí≥ **TINKOFF_SETUP.md** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¢-–ë–∞–Ω–∫–∞
- üì° **API_EXAMPLES.md** - –ø—Ä–∏–º–µ—Ä—ã API
- üí∞ **PAYMENTS_COMPARISON.md** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–µ–∫

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–≤–æ–π API –∫–ª—é—á: **_3yKwRuZoP43qBpyk5ryzqypowLM6domwydwYASH** ‚úÖ

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏:
```bash
npm run server:dev  # –≤ –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
npm run dev         # –≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
```

–ò –æ—Ç–∫—Ä–æ–π: **http://localhost:3000**

**–£–¥–∞—á–∏ —Å –∑–∞–ø—É—Å–∫–æ–º! üöÄüåä**

