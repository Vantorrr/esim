# üåä eWave - Telegram Mini App –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ eSIM

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–¥–∞–∂–∏ eSIM —á–µ—Ä–µ–∑ Telegram Mini Apps —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π API esim-go.com.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üåç **200+ —Å—Ç—Ä–∞–Ω** - –ø–æ–∫—Ä—ã—Ç–∏–µ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É
- ‚ö° **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è** - –ø–æ–ª—É—á–∏—Ç–µ eSIM –∑–∞ 1 –º–∏–Ω—É—Ç—É
- üí≥ **–£–¥–æ–±–Ω–∞—è –æ–ø–ª–∞—Ç–∞** - –°–ë–ü —á–µ—Ä–µ–∑ –ë–∞–Ω–∫ 131
- üì± **QR-–∫–æ–¥** - –ø—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- üé® **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** - –∫—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏
- üåê **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ RU/EN
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ PCI DSS

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Frontend
- **Next.js 14** - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **TypeScript** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Tailwind CSS** - —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è
- **Telegram Mini Apps SDK** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram

### Backend
- **Node.js + Express** - API —Å–µ—Ä–≤–µ—Ä
- **esim-go API** - –ø—Ä–æ–≤–∞–π–¥–µ—Ä eSIM
- **131.ru FPS** - –ø—Ä–∏—ë–º –ø–ª–∞—Ç–µ–∂–µ–π —á–µ—Ä–µ–∑ –°–ë–ü

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

\`\`\`bash
npm install
\`\`\`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

\`\`\`env
# Telegram Bot
TELEGRAM_BOT_TOKEN=your_bot_token_here

# eSIM-GO API
ESIM_GO_API_KEY=your_esim_go_api_key
ESIM_GO_API_URL=https://api.esim-go.com/v2.2

# 131.ru FPS (–°–ë–ü)
PAYMENT_131_BASE_URL=https://api.131.ru
PAYMENT_131_PROJECT=ewave_acq_fps
PAYMENT_131_MERCHANT=askolskay
PAYMENT_131_KEY_ID=prod-key-id
PAYMENT_131_PRIVATE_PEM="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"
PAYMENT_131_WEBHOOK_WHITELIST=84.252.136.174,84.201.171.246

# Server
PORT=8080
NODE_ENV=development
NEXT_PUBLIC_API_URL=http://localhost:8080/api
WEBHOOK_URL=https://your-domain.com/api/webhook
\`\`\`

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

#### esim-go.com
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://esim-go.com
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª API
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –≤ `.env`

#### 131.ru (–°–ë–ü)
1. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ 131 (–Ω–∞–ø—Ä. `ewave_acq_fps`)
2. –ü–æ–ª—É—á–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è `project`, `merchant` –∏ `keyId`
3. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ RSA-–∫–ª—é—á –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤ `PAYMENT_131_PRIVATE_PEM`
4. –î–æ–±–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ webhook URL, whitelist IP `84.252.136.174,84.201.171.246`

### 4. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

\`\`\`bash
# –ó–∞–ø—É—Å–∫ backend —Å–µ—Ä–≤–µ—Ä–∞
npm run server:dev

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –∑–∞–ø—É—Å–∫ frontend
npm run dev
\`\`\`

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ:
- **Frontend**: http://localhost:3000
- **Backend**: http://localhost:8080

### 5. –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. –ù–∞–ø–∏—à–∏—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/newbot`
3. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env`
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Mini App:
   \`\`\`
   /newapp
   /setdomain - —É–∫–∞–∂–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
   /setdescription - –¥–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ
   /setimage - –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∫–æ–Ω–∫—É
   \`\`\`

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

\`\`\`
eWave/
‚îú‚îÄ‚îÄ app/                    # Next.js app directory
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx           # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ checkout/          # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–ª–∞—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ success/           # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É—Å–ø–µ—à–Ω–æ–π –ø–æ–∫—É–ø–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ faq/              # FAQ
‚îÇ   ‚îú‚îÄ‚îÄ how-to-install/   # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
‚îÇ   ‚îú‚îÄ‚îÄ compatibility/    # –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx        # –ì–ª–∞–≤–Ω—ã–π layout
‚îÇ   ‚îî‚îÄ‚îÄ globals.css       # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ components/            # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Footer.tsx
‚îÇ   ‚îú‚îÄ‚îÄ CountrySelector.tsx
‚îÇ   ‚îú‚îÄ‚îÄ PackageList.tsx
‚îÇ   ‚îú‚îÄ‚îÄ PackageCard.tsx
‚îÇ   ‚îî‚îÄ‚îÄ QRCodeDisplay.tsx
‚îú‚îÄ‚îÄ lib/                   # –£—Ç–∏–ª–∏—Ç—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ telegram.ts       # Telegram SDK
‚îÇ   ‚îî‚îÄ‚îÄ api.ts           # API –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ server/               # Backend
‚îÇ   ‚îú‚îÄ‚îÄ index.js         # Express —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ routes/          # API —Ä–æ—É—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ esim.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ payments131.js
‚îÇ   ‚îî‚îÄ‚îÄ services/        # –°–µ—Ä–≤–∏—Å—ã
‚îÇ       ‚îî‚îÄ‚îÄ esimGoApi.js
‚îú‚îÄ‚îÄ public/              # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
\`\`\`

## üé® –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é —Ü–≤–µ—Ç–æ–≤—É—é –ø–∞–ª–∏—Ç—Ä—É:

- **Primary** (–°–∏–Ω–∏–π): `#0080FF` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç, –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã
- **Secondary** (–û—Ä–∞–Ω–∂–µ–≤—ã–π): `#FF8534` - –∞–∫—Ü–µ–Ω—Ç—ã, –∫–Ω–æ–ø–∫–∏
- **Background**: `#F0F7FF` - —Å–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π —Ñ–æ–Ω
- **Text Primary**: `#143E66` - —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π —Ç–µ–∫—Å—Ç
- **Text Secondary**: `#2F5278` - –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç

## üîå API Endpoints

### eSIM

\`\`\`
GET  /api/esim/countries          # –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω
GET  /api/esim/packages            # –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–∞–∫–µ—Ç—ã
GET  /api/esim/packages?country=US # –ü–∞–∫–µ—Ç—ã –¥–ª—è —Å—Ç—Ä–∞–Ω—ã
GET  /api/esim/packages/:id        # –î–µ—Ç–∞–ª–∏ –ø–∞–∫–µ—Ç–∞
POST /api/esim/orders              # –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
GET  /api/esim/orders/:id          # –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑
GET  /api/esim/orders/:id/qr       # –ü–æ–ª—É—á–∏—Ç—å QR-–∫–æ–¥
\`\`\`

### Payment

\`\`\`
POST /api/payments/131/sbp/create-payment  # –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç—ë–∂ –°–ë–ü (131)
GET  /api/payments/131/sbp/orders/:orderId # –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞ –°–ë–ü
\`\`\`

### Webhooks

\`\`\`
POST /api/payments/131/webhook # Webhook 131 (–°–ë–ü)
\`\`\`

## üåç –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Vercel (Frontend)

\`\`\`bash
npm install -g vercel
vercel
\`\`\`

### Railway / Render / Heroku (Backend)

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞: `npm run server`
4. –£–∫–∞–∂–∏—Ç–µ –ø–æ—Ä—Ç: `8080`

### Docker

\`\`\`bash
# –°–æ–∑–¥–∞–π—Ç–µ Dockerfile –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
docker build -t ewave-app .
docker run -p 8080:8080 ewave-app
\`\`\`

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram

1. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–º URL (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ngrok –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Mini App –≤ BotFather
3. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Mini App

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ngrok –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

\`\`\`bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok
npm install -g ngrok

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å
ngrok http 3000

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞
\`\`\`

## üí° –°–æ–≤–µ—Ç—ã –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `hapticFeedback()` –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX
- Telegram SDK –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ç–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ HTTPS –¥–ª—è —Ä–∞–±–æ—Ç—ã webhooks

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìß Email: ewavenet@yandex.com
- üí¨ Telegram: [@eWaveSupport](https://t.me/eWaveSupport)
- üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API: [esim-go.com/docs](https://docs.esim-go.com)

## üßë‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- –ö–æ–º–∞–Ω–¥–∞: [N0FACE](https://noface.digital)
- –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å: [@pavel_xdev](https://t.me/pavel_xdev)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ —Ö–æ—Ç–∏—Ç–µ!

## üéØ TODO –¥–ª—è production

- [ ] –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (PostgreSQL/MongoDB) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram Bot API
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–æ–≤ (Redis)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Sentry)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É (Google Analytics / Amplitude)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD pipeline
- [ ] –î–æ–±–∞–≤–∏—Ç—å rate limiting –¥–ª—è API
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º

---

–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É üåç‚úàÔ∏è
\`\`\`

